{% extends "_layout.twig" %}

{% block content %}
    <h1>{{ entry.title }}</h1>

    <div class="meta">
        <span>Published: {{ entry.postDate|date('F j, Y') }}</span>
        {% if entry.author %}
            | <span>By {{ entry.author }}</span>
        {% endif %}
    </div>

    {% if entry.featuredImage|length %}
        <div class="featured-image" style="margin: 2rem 0;">
            {% set image = entry.featuredImage.one() %}
            {% if image %}
                <img src="{{ image.url }}" alt="{{ image.title }}" style="max-width: 100%; height: auto; border-radius: 8px;">
            {% endif %}
        </div>
    {% endif %}

    {% if entry.postSummary %}
        <div class="summary" style="font-size: 1.1rem; color: #666; margin: 1.5rem 0;">
            {{ entry.postSummary }}
        </div>
    {% endif %}

    {% if entry.postBody %}
        <div class="content">
            {{ entry.postBody }}
        </div>
    {% endif %}

    {# Show locations #}
    {% if entry.locations|length %}
        <div style="margin: 2rem 0;">
            {% for location in entry.locations.all() %}
                <a href="{{ location.url }}" class="tag">üìç {{ location.title }}</a>
            {% endfor %}
        </div>
    {% endif %}

    {% if entry.blogCategories|length %}
        <div class="categories">
            <h3>Categories</h3>
            {% for category in entry.blogCategories.all() %}
                <a href="/thoughts/category/{{ category.slug }}" class="tag">{{ category.title }}</a>
            {% endfor %}
        </div>
    {% endif %}

    {% if entry.relatedTravels|length or entry.relatedPhotographyAlbums|length %}
        <div class="related">
            <h3>Related Content</h3>
            {% if entry.relatedPhotographyAlbums|length %}
                <h4>Related Photography Albums</h4>
                <ul>
                    {% for album in entry.relatedPhotographyAlbums.all() %}
                        <li><a href="{{ album.url }}">{{ album.title }}</a></li>
                    {% endfor %}
                </ul>
            {% endif %}
            {% if entry.relatedTravels|length %}
                <h4>Related Travels</h4>
                <ul>
                    {% for travel in entry.relatedTravels.all() %}
                        <li><a href="{{ travel.url }}">{{ travel.title }}</a></li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% endif %}
{% endblock %}
